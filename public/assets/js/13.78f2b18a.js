(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{281:function(t,s,e){"use strict";e.r(s);var a=e(10),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",[t._v("阅读《高级程序设计》有感记录 -- 跨域")])]),t._v(" "),e("h2",{attrs:{id:"跨域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#跨域"}},[t._v("#")]),t._v(" 跨域")]),t._v(" "),e("h3",{attrs:{id:"跨域资源共享"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#跨域资源共享"}},[t._v("#")]),t._v(" 跨域资源共享")]),t._v(" "),e("p",[t._v("介绍： xhr对象只能访问同域下资源，来防止某些恶意行为。但在某些时候需要合理的跨域请求资源")]),t._v(" "),e("p",[t._v("核心：CORS（Cross-Origin Resource Sharing，跨域资源共享）")]),t._v(" "),e("p",[t._v("CORS的实现为使用http头部与服务器进行沟通，大部分的实现为：")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 在请求头中加入origin\norigin：http://www.heyingjie.com\n//  如果服务器认为可以通过会在返回中加入\nAccess-Control-Allow-Origin: http://www.heyingjie.com\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("ie8对此有特异的实现，引入了XDomainRequest类型，其他浏览器对此的实现都是在XMLHttpRequest中实现了对CORS的原生支持")]),t._v(" "),e("h4",{attrs:{id:"跨域xhr为了安全考虑做了如下限制："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#跨域xhr为了安全考虑做了如下限制："}},[t._v("#")]),t._v(" 跨域XHR为了安全考虑做了如下限制：")]),t._v(" "),e("ul",[e("li",[t._v("不能使用 setRequestHeaders来设置自定义头部信息")]),t._v(" "),e("li",[t._v("不能发送和接收cookie（？存疑）（设置withCredentials = true应该可以）")]),t._v(" "),e("li",[t._v("调用getAllResponseHeaders会返回空字符串")])]),t._v(" "),e("h3",{attrs:{id:"跨域技术"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#跨域技术"}},[t._v("#")]),t._v(" 跨域技术")]),t._v(" "),e("ul",[e("li",[t._v("JSONP")]),t._v(" "),e("li",[t._v("图像ping")]),t._v(" "),e("li",[t._v("ngixn代理")])])])}),[],!1,null,null,null);s.default=r.exports}}]);